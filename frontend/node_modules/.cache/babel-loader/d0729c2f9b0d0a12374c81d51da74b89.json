{"ast":null,"code":"var _jsxFileName = \"/Users/rajivdulepet/Desktop/cs0320/term-project-asrira11-kpadh-mkurup1-rdulepet/frontend/src/screens/src/CreateProfileScreen1.js\";\nimport React, { Component } from \"react\";\nimport \"../styles/CreateProfileScreen1.css\";\nimport TextBox from \"../../components/src/TextBox\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport firebase from \"../../firebase\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateProfileScreen1 extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserID = () => {\n      let authFlag = true;\n      firebase.auth().onAuthStateChanged(user => {\n        if (authFlag) {\n          authFlag = false;\n\n          if (user) {\n            this.setState({\n              uid: user.uid\n            });\n            firebase.firestore().collection(\"user-data\").doc(this.state.uid).get().then(doc => {\n              if (doc.exists) {\n                if (!doc.data().initial_profile_setup_complete) {\n                  this.setState({\n                    access: true\n                  });\n                } else {\n                  this.setState({\n                    access: false\n                  });\n                }\n              }\n            }).catch(error => {\n              console.log(error.message);\n            });\n          } else {\n            this.setState({\n              access: false\n            });\n          }\n        }\n      });\n    };\n\n    this.changeFirstName = newName => {\n      this.setState({\n        firstName: newName\n      });\n    };\n\n    this.changeLastName = newName => {\n      this.setState({\n        lastName: newName\n      });\n    };\n\n    this.changeMajor = newMajor => {\n      this.setState({\n        major: newMajor\n      });\n    };\n\n    this.changeDegree = newDegree => {\n      this.setState({\n        degree: newDegree\n      });\n    };\n\n    this.changeUniversity = newUniversity => {\n      this.setState({\n        university: newUniversity\n      });\n    };\n\n    this.writeToDatabase = () => {\n      firebase.firestore().collection(\"user-data\").doc(this.state.uid).update({\n        first_name: this.state.firstName,\n        last_name: this.state.lastName,\n        major: this.state.major,\n        university: this.state.university,\n        degree: this.state.degree,\n        initial_profile_setup_complete: false\n      }).then(() => {\n        if (this.state.errorMessage === \"\") {\n          window.location.href = \"/profile2\";\n        }\n      }).catch(error => {\n        this.setState({\n          errorMessage: \"Oops! It looks like something went wrong. Please try again.\"\n        });\n      });\n    };\n\n    this.next = () => {\n      if (this.state.firstName !== \"\" && this.state.lastName !== \"\" && this.state.major !== \"\" && this.state.university !== \"\" && this.state.degree !== \"\") {\n        this.setState({\n          errorMessage: \"\"\n        });\n        this.setState({\n          errorMessageBoolean: false\n        });\n        this.writeToDatabase();\n      } else {\n        this.setState({\n          errorMessage: \"Oops! Please make sure you fill in all fields.\"\n        });\n        this.setState({\n          errorMessageBoolean: true\n        });\n      }\n    };\n\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      major: \"\",\n      degree: \"\",\n      university: \"\",\n      errorMessage: \"\",\n      errorMessageBoolean: false,\n      uid: \"\",\n      access: true,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.getUserID();\n    this.id = setTimeout(() => this.setState({\n      loading: false\n    }), 1000);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  render() {\n    return this.state.access ? this.state.loading ? /*#__PURE__*/_jsxDEV(WaveLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: \"Create Your Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n        label: \"First Name\",\n        type: \"text\",\n        value: this.state.firstName,\n        change: this.changeFirstName,\n        placeholder: \"Josiah\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n        label: \"Last Name\",\n        type: \"text\",\n        value: this.state.lastName,\n        change: this.changeLastName,\n        placeholder: \"Carberry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n        label: \"Major\",\n        type: \"text\",\n        value: this.state.major,\n        change: this.changeMajor,\n        placeholder: \"Psychoceramics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n        label: \"Degree\",\n        type: \"text\",\n        value: this.state.degree,\n        change: this.changeDegree,\n        placeholder: \"Bachelor of Arts (A.B.)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextBox, {\n        label: \"University\",\n        type: \"text\",\n        value: this.state.university,\n        change: this.changeUniversity,\n        placeholder: \"Brown University\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: this.state.errorMessageBoolean ? {\n          color: \"red\"\n        } : {\n          color: \"green\"\n        },\n        className: \"error-messages\",\n        children: this.state.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"next-button\",\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          value: \"Next\",\n          onClick: this.next\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"denied-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"access denied\",\n        style: {\n          height: \"330px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 16\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 23\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(BigCustomButton, {\n        value: \"Click Here To Log In\",\n        onClick: () => {\n          window.location.href = \"/landing\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CreateProfileScreen1;","map":{"version":3,"sources":["/Users/rajivdulepet/Desktop/cs0320/term-project-asrira11-kpadh-mkurup1-rdulepet/frontend/src/screens/src/CreateProfileScreen1.js"],"names":["React","Component","TextBox","CustomButton","firebase","image","BigCustomButton","WaveLoading","CreateProfileScreen1","constructor","props","getUserID","authFlag","auth","onAuthStateChanged","user","setState","uid","firestore","collection","doc","state","get","then","exists","data","initial_profile_setup_complete","access","catch","error","console","log","message","changeFirstName","newName","firstName","changeLastName","lastName","changeMajor","newMajor","major","changeDegree","newDegree","degree","changeUniversity","newUniversity","university","writeToDatabase","update","first_name","last_name","errorMessage","window","location","href","next","errorMessageBoolean","loading","componentDidMount","id","setTimeout","componentWillUnmount","clearTimeout","render","color","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/CreateProfileScreen1.css\";\nimport TextBox from \"../../components/src/TextBox\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport firebase from \"../../firebase\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\n\nclass CreateProfileScreen1 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      major: \"\",\n      degree: \"\",\n      university: \"\",\n      errorMessage: \"\",\n      errorMessageBoolean: false,\n      uid: \"\",\n      access: true,\n      loading: true,\n    };\n  }\n\n  getUserID = () => {\n    let authFlag = true;\n    firebase.auth().onAuthStateChanged((user) => {\n      if (authFlag) {\n        authFlag = false;\n        if (user) {\n          this.setState({ uid: user.uid });\n          firebase\n            .firestore()\n            .collection(\"user-data\")\n            .doc(this.state.uid)\n            .get()\n            .then((doc) => {\n              if (doc.exists) {\n                if (!doc.data().initial_profile_setup_complete) {\n                  this.setState({ access: true });\n                } else {\n                  this.setState({ access: false });\n                }\n              }\n            })\n            .catch((error) => {\n              console.log(error.message);\n            });\n        } else {\n          this.setState({ access: false });\n        }\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.getUserID();\n    this.id = setTimeout(() => this.setState({ loading: false }), 1000);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  changeFirstName = (newName) => {\n    this.setState({ firstName: newName });\n  };\n\n  changeLastName = (newName) => {\n    this.setState({ lastName: newName });\n  };\n\n  changeMajor = (newMajor) => {\n    this.setState({ major: newMajor });\n  };\n\n  changeDegree = (newDegree) => {\n    this.setState({ degree: newDegree });\n  };\n\n  changeUniversity = (newUniversity) => {\n    this.setState({ university: newUniversity });\n  };\n\n  writeToDatabase = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .update({\n        first_name: this.state.firstName,\n        last_name: this.state.lastName,\n        major: this.state.major,\n        university: this.state.university,\n        degree: this.state.degree,\n        initial_profile_setup_complete: false,\n      })\n      .then(() => {\n        if (this.state.errorMessage === \"\") {\n          window.location.href = \"/profile2\";\n        }\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  next = () => {\n    if (\n      this.state.firstName !== \"\" &&\n      this.state.lastName !== \"\" &&\n      this.state.major !== \"\" &&\n      this.state.university !== \"\" &&\n      this.state.degree !== \"\"\n    ) {\n      this.setState({ errorMessage: \"\" });\n      this.setState({ errorMessageBoolean: false });\n      this.writeToDatabase();\n    } else {\n      this.setState({\n        errorMessage: \"Oops! Please make sure you fill in all fields.\",\n      });\n      this.setState({ errorMessageBoolean: true });\n    }\n  };\n\n  render() {\n    return this.state.access ? (\n      this.state.loading ? (\n        <WaveLoading />\n      ) : (\n        <div className=\"main-div\">\n          <div className=\"message\">Create Your Profile</div>\n          <TextBox\n            label={\"First Name\"}\n            type={\"text\"}\n            value={this.state.firstName}\n            change={this.changeFirstName}\n            placeholder={\"Josiah\"}\n          />\n          <TextBox\n            label={\"Last Name\"}\n            type={\"text\"}\n            value={this.state.lastName}\n            change={this.changeLastName}\n            placeholder={\"Carberry\"}\n          />\n          <TextBox\n            label={\"Major\"}\n            type={\"text\"}\n            value={this.state.major}\n            change={this.changeMajor}\n            placeholder={\"Psychoceramics\"}\n          />\n          <TextBox\n            label={\"Degree\"}\n            type={\"text\"}\n            value={this.state.degree}\n            change={this.changeDegree}\n            placeholder={\"Bachelor of Arts (A.B.)\"}\n          />\n          <TextBox\n            label={\"University\"}\n            type={\"text\"}\n            value={this.state.university}\n            change={this.changeUniversity}\n            placeholder={\"Brown University\"}\n          />\n          <div\n            style={\n              this.state.errorMessageBoolean\n                ? { color: \"red\" }\n                : { color: \"green\" }\n            }\n            className=\"error-messages\"\n          >\n            {this.state.errorMessage}\n          </div>\n          <br />\n          <div className=\"next-button\">\n            <CustomButton value={\"Next\"} onClick={this.next} />\n          </div>\n        </div>\n      )\n    ) : (\n      <div className={\"denied-wrapper\"}>\n        <img src={image} alt={\"access denied\"} style={{ height: \"330px\" }} />\n        <br /> <br /> <br /> <br />\n        <BigCustomButton\n          value={\"Click Here To Log In\"}\n          onClick={() => {\n            window.location.href = \"/landing\";\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CreateProfileScreen1;\n"]},"metadata":{},"sourceType":"module"}