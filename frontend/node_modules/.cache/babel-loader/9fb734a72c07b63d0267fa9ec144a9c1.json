{"ast":null,"code":"import _slicedToArray from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../styles/SearchForInternshipsScreen.css\";import firebase from\"../../firebase\";import BigCustomButton from\"../../components/src/BigCustomButton\";import image from\"../../media/accessdenied.jpeg\";import CustomButton from\"../../components/src/CustomButton\";import{WaveLoading}from\"react-loadingg\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForInternshipsScreen=/*#__PURE__*/function(_Component){_inherits(SearchForInternshipsScreen,_Component);var _super=_createSuper(SearchForInternshipsScreen);function SearchForInternshipsScreen(props){var _this;_classCallCheck(this,SearchForInternshipsScreen);_this=_super.call(this,props);_this.writeToDatabase=function(id,title,company,description,link){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(_this.state.currentRole).doc(id).set({title:title,company:company,description:description,link:link}).then(function(){}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.getResultsFromBackend=function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"internships\").get().then(function(doc){doc.forEach(function(element){element.ref.delete().then();});var toSend={id:_this.state.uid};var config={headers:{Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"}};axios.post(\"http://localhost:5100/userJobResults\",toSend,config).then(function(response){var localInternshipsList=[];Object.entries(response.data[\"userJobResults\"]).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];var crypto=require(\"crypto-js\");var concat=value[\"title\"]+value[\"company\"]+value[\"link\"]+value[\"requiredQualifications\"];var ID=crypto.SHA256(concat).toString();localInternshipsList.push(ID);_this.writeToDatabase(ID,value[\"title\"],value[\"company\"],value[\"requiredQualifications\"],value[\"link\"]);});firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(_this.state.currentRole).doc(_this.state.currentRole+\" List\").set({rolesList:localInternshipsList}).then(function(){}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});}).catch(function(error){console.log(error);});}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.getUserID=function(){var authFlag=true;firebase.auth().onAuthStateChanged(function(user){if(authFlag){authFlag=false;if(user){_this.setState({uid:user.uid});_this.setState({access:true});}else{_this.setState({access:false});}}});};_this.populateSectors=function(){var localSectors1=[];var localSectors2=[];var counter=0;var _loop=function _loop(key){counter+=1;if(counter<=4){localSectors1.push(/*#__PURE__*/_jsx(CustomButton,{value:key,onClick:function onClick(){return _this.populateRoles(key);}},Math.random()));}else if(counter<=8&&counter>4){localSectors2.push(/*#__PURE__*/_jsx(CustomButton,{value:key,onClick:function onClick(){return _this.populateRoles(key);}},Math.random()));}};for(var key in _this.state.allRoles){_loop(key);}_this.setState({sectors1:localSectors1});_this.setState({sectors2:localSectors2});};_this.populateRoles=function(sector){var localRoles1=[];var localRoles2=[];var localRoles3=[];var counter=0;var _loop2=function _loop2(innerKey){counter+=1;if(counter<=4){localRoles1.push(/*#__PURE__*/_jsx(BigCustomButton,{value:_this.state.allRoles[sector][innerKey],onClick:function onClick(){return _this.handleSelection(_this.state.allRoles[sector][innerKey]);}},Math.random()));}else if(counter<=8&&counter>4){localRoles2.push(/*#__PURE__*/_jsx(BigCustomButton,{value:_this.state.allRoles[sector][innerKey],onClick:function onClick(){return _this.handleSelection(_this.state.allRoles[sector][innerKey]);}},Math.random()));}else{localRoles3.push(/*#__PURE__*/_jsx(BigCustomButton,{value:_this.state.allRoles[sector][innerKey],onClick:function onClick(){return _this.handleSelection(_this.state.allRoles[sector][innerKey]);}},Math.random()));}};for(var innerKey in _this.state.allRoles[sector]){_loop2(innerKey);}_this.setState({roles1:localRoles1});_this.setState({roles2:localRoles2});_this.setState({roles3:localRoles3});};_this.handleSelection=function(role){// make post request here as callback to setState\n_this.setState({internshipsList:[]},function(){_this.setState({currentRole:role},function(){// this.getResultsFromBackend();\n});});console.log(role);};_this.goBack=function(){window.location.href=\"/home\";};_this.state={uid:\"\",access:true,loading:true,allRoles:{Healthcare:{hcr:\"Healthcare Research Intern\",hcra:\"Healthcare Administration Intern\",la:\"Lab Assistant Intern\",hcc:\"Healthcare Consultant Intern\",cc:\"Clinical Coordinator Intern\",r:\"Research Intern\",ph:\"Pharmacy Intern\"},Technology:{ss:\"Support Specialist Intern\",ds:\"Data Science Intern\",ux:\"UI/UX Intern\",swe:\"Software Engineering Intern\",wd:\"Web Developer Intern\",qae:\"Quality Assurance Engineer Intern\",de:\"Data Engineer Intern\",ne:\"Network Engineer Intern\",se:\"Systems Engineer Intern\",pm:\"Product Management Intern\",s:\"Security Intern\",da:\"Data Analysis Intern\"},\"Real Estate\":{reo:\"Real Estate Operations Intern\",repm:\"Real Estate Property Management Intern\",cre:\"Commercial Real Estate Intern\",ps:\"Property Strategy Intern\",red:\"Real Estate Development Intern\"},Retail:{md:\"Merchandising Intern\",c:\"Communications Intern\",m:\"Marketing Intern\",sc:\"Store Clerk Intern\",dt:\"Distribution Intern\",sa:\"Sales Associate Intern\",ro:\"Retail Operations Intern\",cnc:\"Content Creator Intern\",bs:\"Brand Strategist Intern\",mm:\"Multimdeia Intern\",sm:\"Social Media Intern\",gd:\"Graphic Design Intern\"},Education:{tf:\"Teaching Fellow Intern\",ta:\"Teaching Assistant Intern\",cd:\"Curriculum Development Intern\",ei:\"Education Intern\",sw:\"Social Work Intern\"},Government:{ga:\"Government Affairs Intern\",gr:\"Government Relations Intern\",ca:\"Community Affairs Intern\",pe:\"Public Engagement Intern\",oure:\"Outreach Intern\",lob:\"Lobbying Intern\",camp:\"Campaign Intern\",po:\"Political Operations Intern\",e:\"Editorial Intern\",l:\"Legal Intern\",p:\"Policy Intern\"},Finance:{fi:\"Fixed Income Intern\",eq:\"Equities Intern\",a:\"Accounting Intern\",ib:\"Investment Banking Intern\",ra:\"Risk Advisory Intern\",wm:\"Wealth Management Intern\",bank:\"Banking Intern\",ia:\"Investment Analyst Intern\"},Business:{corstrat:\"Corporate Strategy Intern\",bd:\"Business Development Intern\",cn:\"Consulting Intern\",o:\"Operations Intern\",pr:\"Public Relations Intern\",hr:\"Human Resources Intern\"}},sectors1:[],sectors2:[],roles1:[],roles2:[],roles3:[],currentRole:\"\",internships:[],internshipsList:[]};return _this;}_createClass(SearchForInternshipsScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getUserID();this.populateSectors();this.populateRoles(\"Healthcare\");this.id=setTimeout(function(){return _this2.setState({loading:false});},100);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.id);}},{key:\"render\",value:function render(){return this.state.access?this.state.loading?/*#__PURE__*/_jsx(WaveLoading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back-button\",children:/*#__PURE__*/_jsx(CustomButton,{value:\"Go Back\",onClick:this.goBack})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-search\",children:\"Pick a Sector, Then a Role\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subheading-1\",children:\"Sectors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"industry-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap\",children:this.state.sectors1})}),/*#__PURE__*/_jsx(\"div\",{className:\"industry-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap\",children:this.state.sectors2})}),/*#__PURE__*/_jsx(\"div\",{className:\"subheading-2\",children:\"Roles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"roles-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap\",children:this.state.roles1})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"roles-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap\",children:this.state.roles2})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"roles-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-wrap\",children:this.state.roles3})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"denied-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"access denied\",style:{height:\"330px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"Click Here To Log In\",onClick:function onClick(){window.location.href=\"/landing\";}})]});}}]);return SearchForInternshipsScreen;}(Component);export default SearchForInternshipsScreen;","map":{"version":3,"sources":["/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/SearchForInternshipsScreen.js"],"names":["React","Component","firebase","BigCustomButton","image","CustomButton","WaveLoading","axios","SearchForInternshipsScreen","props","writeToDatabase","id","title","company","description","link","firestore","collection","doc","state","uid","currentRole","set","then","catch","error","setState","errorMessage","getResultsFromBackend","get","forEach","element","ref","delete","toSend","config","headers","Accept","post","response","localInternshipsList","Object","entries","data","key","value","crypto","require","concat","ID","SHA256","toString","push","rolesList","console","log","getUserID","authFlag","auth","onAuthStateChanged","user","access","populateSectors","localSectors1","localSectors2","counter","populateRoles","Math","random","allRoles","sectors1","sectors2","sector","localRoles1","localRoles2","localRoles3","innerKey","handleSelection","roles1","roles2","roles3","role","internshipsList","goBack","window","location","href","loading","Healthcare","hcr","hcra","la","hcc","cc","r","ph","Technology","ss","ds","ux","swe","wd","qae","de","ne","se","pm","s","da","reo","repm","cre","ps","red","Retail","md","c","m","sc","dt","sa","ro","cnc","bs","mm","sm","gd","Education","tf","ta","cd","ei","sw","Government","ga","gr","ca","pe","oure","lob","camp","po","e","l","p","Finance","fi","eq","a","ib","ra","wm","bank","ia","Business","corstrat","bd","cn","o","pr","hr","internships","setTimeout","clearTimeout","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/SearchForInternshipsScreen.css\";\nimport firebase from \"../../firebase\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\nimport axios from \"axios\";\n\nclass SearchForInternshipsScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid: \"\",\n      access: true,\n      loading: true,\n      allRoles: {\n        Healthcare: {\n          hcr: \"Healthcare Research Intern\",\n          hcra: \"Healthcare Administration Intern\",\n          la: \"Lab Assistant Intern\",\n          hcc: \"Healthcare Consultant Intern\",\n          cc: \"Clinical Coordinator Intern\",\n          r: \"Research Intern\",\n          ph: \"Pharmacy Intern\",\n        },\n        Technology: {\n          ss: \"Support Specialist Intern\",\n          ds: \"Data Science Intern\",\n          ux: \"UI/UX Intern\",\n          swe: \"Software Engineering Intern\",\n          wd: \"Web Developer Intern\",\n          qae: \"Quality Assurance Engineer Intern\",\n          de: \"Data Engineer Intern\",\n          ne: \"Network Engineer Intern\",\n          se: \"Systems Engineer Intern\",\n          pm: \"Product Management Intern\",\n          s: \"Security Intern\",\n          da: \"Data Analysis Intern\",\n        },\n        \"Real Estate\": {\n          reo: \"Real Estate Operations Intern\",\n          repm: \"Real Estate Property Management Intern\",\n          cre: \"Commercial Real Estate Intern\",\n          ps: \"Property Strategy Intern\",\n          red: \"Real Estate Development Intern\",\n        },\n        Retail: {\n          md: \"Merchandising Intern\",\n          c: \"Communications Intern\",\n          m: \"Marketing Intern\",\n          sc: \"Store Clerk Intern\",\n          dt: \"Distribution Intern\",\n          sa: \"Sales Associate Intern\",\n          ro: \"Retail Operations Intern\",\n          cnc: \"Content Creator Intern\",\n          bs: \"Brand Strategist Intern\",\n          mm: \"Multimdeia Intern\",\n          sm: \"Social Media Intern\",\n          gd: \"Graphic Design Intern\",\n        },\n        Education: {\n          tf: \"Teaching Fellow Intern\",\n          ta: \"Teaching Assistant Intern\",\n          cd: \"Curriculum Development Intern\",\n          ei: \"Education Intern\",\n          sw: \"Social Work Intern\",\n        },\n        Government: {\n          ga: \"Government Affairs Intern\",\n          gr: \"Government Relations Intern\",\n          ca: \"Community Affairs Intern\",\n          pe: \"Public Engagement Intern\",\n          oure: \"Outreach Intern\",\n          lob: \"Lobbying Intern\",\n          camp: \"Campaign Intern\",\n          po: \"Political Operations Intern\",\n          e: \"Editorial Intern\",\n          l: \"Legal Intern\",\n          p: \"Policy Intern\",\n        },\n        Finance: {\n          fi: \"Fixed Income Intern\",\n          eq: \"Equities Intern\",\n          a: \"Accounting Intern\",\n          ib: \"Investment Banking Intern\",\n          ra: \"Risk Advisory Intern\",\n          wm: \"Wealth Management Intern\",\n          bank: \"Banking Intern\",\n          ia: \"Investment Analyst Intern\",\n        },\n        Business: {\n          corstrat: \"Corporate Strategy Intern\",\n          bd: \"Business Development Intern\",\n          cn: \"Consulting Intern\",\n          o: \"Operations Intern\",\n          pr: \"Public Relations Intern\",\n          hr: \"Human Resources Intern\",\n        },\n      },\n      sectors1: [],\n      sectors2: [],\n      roles1: [],\n      roles2: [],\n      roles3: [],\n      currentRole: \"\",\n      internships: [],\n      internshipsList: [],\n    };\n  }\n\n  writeToDatabase = (id, title, company, description, link) => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .collection(this.state.currentRole)\n      .doc(id)\n      .set({\n        title: title,\n        company: company,\n        description: description,\n        link: link,\n      })\n      .then(() => {})\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  getResultsFromBackend = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .collection(\"internships\")\n      .get()\n      .then((doc) => {\n        doc.forEach((element) => {\n          element.ref.delete().then();\n        });\n        const toSend = {\n          id: this.state.uid,\n        };\n        let config = {\n          headers: {\n            Accept: \"application/json\",\n            \"Access-Control-Allow-Origin\": \"*\",\n          },\n        };\n        axios\n          .post(\"http://localhost:5100/userJobResults\", toSend, config)\n          .then((response) => {\n            let localInternshipsList = [];\n            Object.entries(response.data[\"userJobResults\"]).forEach(\n              ([key, value]) => {\n                let crypto = require(\"crypto-js\");\n                let concat =\n                  value[\"title\"] +\n                  value[\"company\"] +\n                  value[\"link\"] +\n                  value[\"requiredQualifications\"];\n                let ID = crypto.SHA256(concat).toString();\n                localInternshipsList.push(ID);\n                this.writeToDatabase(\n                  ID,\n                  value[\"title\"],\n                  value[\"company\"],\n                  value[\"requiredQualifications\"],\n                  value[\"link\"]\n                );\n              }\n            );\n            firebase\n              .firestore()\n              .collection(\"user-data\")\n              .doc(this.state.uid)\n              .collection(this.state.currentRole)\n              .doc(this.state.currentRole + \" List\")\n              .set({\n                rolesList: localInternshipsList,\n              })\n              .then(() => {})\n              .catch((error) => {\n                this.setState({\n                  errorMessage:\n                    \"Oops! It looks like something went wrong. Please try again.\",\n                });\n              });\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  getUserID = () => {\n    let authFlag = true;\n    firebase.auth().onAuthStateChanged((user) => {\n      if (authFlag) {\n        authFlag = false;\n        if (user) {\n          this.setState({ uid: user.uid });\n          this.setState({ access: true });\n        } else {\n          this.setState({ access: false });\n        }\n      }\n    });\n  };\n\n  populateSectors = () => {\n    let localSectors1 = [];\n    let localSectors2 = [];\n    let counter = 0;\n    for (let key in this.state.allRoles) {\n      counter += 1;\n      if (counter <= 4) {\n        localSectors1.push(\n          <CustomButton\n            value={key}\n            onClick={() => this.populateRoles(key)}\n            key={Math.random()}\n          />\n        );\n      } else if (counter <= 8 && counter > 4) {\n        localSectors2.push(\n          <CustomButton\n            value={key}\n            onClick={() => this.populateRoles(key)}\n            key={Math.random()}\n          />\n        );\n      }\n    }\n    this.setState({ sectors1: localSectors1 });\n    this.setState({ sectors2: localSectors2 });\n  };\n\n  componentDidMount() {\n    this.getUserID();\n    this.populateSectors();\n    this.populateRoles(\"Healthcare\");\n    this.id = setTimeout(() => this.setState({ loading: false }), 100);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  populateRoles = (sector) => {\n    let localRoles1 = [];\n    let localRoles2 = [];\n    let localRoles3 = [];\n    let counter = 0;\n    for (let innerKey in this.state.allRoles[sector]) {\n      counter += 1;\n      if (counter <= 4) {\n        localRoles1.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      } else if (counter <= 8 && counter > 4) {\n        localRoles2.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      } else {\n        localRoles3.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      }\n    }\n    this.setState({ roles1: localRoles1 });\n    this.setState({ roles2: localRoles2 });\n    this.setState({ roles3: localRoles3 });\n  };\n\n  handleSelection = (role) => {\n    // make post request here as callback to setState\n    this.setState({ internshipsList: [] }, () => {\n      this.setState({ currentRole: role }, () => {\n        // this.getResultsFromBackend();\n      });\n    });\n    console.log(role);\n  };\n\n  goBack = () => {\n    window.location.href = \"/home\";\n  };\n\n  render() {\n    return this.state.access ? (\n      this.state.loading ? (\n        <WaveLoading />\n      ) : (\n        <div className=\"main-div\">\n          <div className=\"back-button\">\n            <CustomButton value={\"Go Back\"} onClick={this.goBack} />\n          </div>\n          <div className=\"header-search\">Pick a Sector, Then a Role</div>\n          <div className=\"subheading-1\">Sectors</div>\n          <div className=\"industry-wrapper\">\n            <div className=\"flex-wrap\">{this.state.sectors1}</div>\n          </div>\n          <div className=\"industry-wrapper\">\n            <div className=\"flex-wrap\">{this.state.sectors2}</div>\n          </div>\n          <div className=\"subheading-2\">Roles</div>\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles1}</div>\n          </div>\n          <br />\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles2}</div>\n          </div>\n          <br />\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles3}</div>\n          </div>\n        </div>\n      )\n    ) : (\n      <div className={\"denied-wrapper\"}>\n        <img src={image} alt={\"access denied\"} style={{ height: \"330px\" }} />\n        <br /> <br /> <br /> <br />\n        <BigCustomButton\n          value={\"Click Here To Log In\"}\n          onClick={() => {\n            window.location.href = \"/landing\";\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchForInternshipsScreen;\n"]},"metadata":{},"sourceType":"module"}