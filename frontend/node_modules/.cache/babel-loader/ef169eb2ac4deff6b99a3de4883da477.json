{"ast":null,"code":"import _classCallCheck from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../styles/LandingScreen.css\";import firebase from\"../../firebase.js\";import TextBox from\"../../components/src/TextBox\";import CustomButton from\"../../components/src/CustomButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPasswordScreen=/*#__PURE__*/function(_Component){_inherits(ForgotPasswordScreen,_Component);var _super=_createSuper(ForgotPasswordScreen);function ForgotPasswordScreen(props){var _this;_classCallCheck(this,ForgotPasswordScreen);_this=_super.call(this,props);_this.changeEmail=function(newEmail){_this.setState({email:newEmail});};_this.handleForgotPassword=function(){var email=_this.state.email;firebase.auth().sendPasswordResetEmail(email).then(function(){_this.setState({errorMessageBoolean:false});_this.setState({errorMessage:\"A password reset link has been sent to your email address, please reset your password and try logging in again. You will be redirected to the login page.\"});setTimeout(function(){return window.location.href=\"/landing\";},5000);}).catch(function(error){_this.setState({errorMessageBoolean:true});_this.setState({errorMessage:error.message});});};_this.state={email:\"\",errorMessage:\"\",errorMessageBoolean:false};return _this;}_createClass(ForgotPasswordScreen,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-ls\",children:\"Forgot Password\"}),/*#__PURE__*/_jsx(TextBox,{label:\"Email\",type:\"text\",value:this.state.email,change:this.changeEmail}),/*#__PURE__*/_jsx(\"div\",{style:this.state.errorMessageBoolean?{color:\"red\"}:{color:\"green\"},className:\"error-messages\",children:this.state.errorMessage}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(CustomButton,{value:\"Reset Password\",onClick:this.handleForgotPassword})]});}}]);return ForgotPasswordScreen;}(Component);export default ForgotPasswordScreen;","map":{"version":3,"sources":["/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/ForgotPasswordScreen.js"],"names":["React","Component","firebase","TextBox","CustomButton","ForgotPasswordScreen","props","changeEmail","newEmail","setState","email","handleForgotPassword","state","auth","sendPasswordResetEmail","then","errorMessageBoolean","errorMessage","setTimeout","window","location","href","catch","error","message","color"],"mappings":"otBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,6BAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,mCAAzB,C,2FAEMC,CAAAA,oB,4HACJ,8BAAYC,KAAZ,CAAmB,sDACjB,uBAAMA,KAAN,EADiB,MASnBC,WATmB,CASL,SAACC,QAAD,CAAc,CAC1B,MAAKC,QAAL,CAAc,CAAEC,KAAK,CAAEF,QAAT,CAAd,EACD,CAXkB,OAanBG,oBAbmB,CAaI,UAAM,CAC3B,GAAMD,CAAAA,KAAK,CAAG,MAAKE,KAAL,CAAWF,KAAzB,CACAR,QAAQ,CACLW,IADH,GAEGC,sBAFH,CAE0BJ,KAF1B,EAGGK,IAHH,CAGQ,UAAM,CACV,MAAKN,QAAL,CAAc,CAAEO,mBAAmB,CAAE,KAAvB,CAAd,EACA,MAAKP,QAAL,CAAc,CACZQ,YAAY,CACV,2JAFU,CAAd,EAIAC,UAAU,CAAC,iBAAOC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,UAA9B,EAAD,CAA4C,IAA5C,CAAV,CACD,CAVH,EAWGC,KAXH,CAWS,SAACC,KAAD,CAAW,CAChB,MAAKd,QAAL,CAAc,CAAEO,mBAAmB,CAAE,IAAvB,CAAd,EACA,MAAKP,QAAL,CAAc,CAAEQ,YAAY,CAAEM,KAAK,CAACC,OAAtB,CAAd,EACD,CAdH,EAeD,CA9BkB,CAEjB,MAAKZ,KAAL,CAAa,CACXF,KAAK,CAAE,EADI,CAEXO,YAAY,CAAE,EAFH,CAGXD,mBAAmB,CAAE,KAHV,CAAb,CAFiB,aAOlB,C,uDAyBD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,YAAK,SAAS,CAAC,YAAf,6BADF,cAEE,KAAC,OAAD,EACE,KAAK,CAAE,OADT,CAEE,IAAI,CAAE,MAFR,CAGE,KAAK,CAAE,KAAKJ,KAAL,CAAWF,KAHpB,CAIE,MAAM,CAAE,KAAKH,WAJf,EAFF,cAQE,YACE,KAAK,CACH,KAAKK,KAAL,CAAWI,mBAAX,CACI,CAAES,KAAK,CAAE,KAAT,CADJ,CAEI,CAAEA,KAAK,CAAE,OAAT,CAJR,CAME,SAAS,CAAC,gBANZ,UAQG,KAAKb,KAAL,CAAWK,YARd,EARF,cAkBE,aAlBF,cAmBE,KAAC,YAAD,EACE,KAAK,CAAE,gBADT,CAEE,OAAO,CAAE,KAAKN,oBAFhB,EAnBF,GADF,CA0BD,C,kCA5DgCV,S,EA+DnC,cAAeI,CAAAA,oBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/LandingScreen.css\";\nimport firebase from \"../../firebase.js\";\n\nimport TextBox from \"../../components/src/TextBox\";\nimport CustomButton from \"../../components/src/CustomButton\";\n\nclass ForgotPasswordScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      errorMessage: \"\",\n      errorMessageBoolean: false,\n    };\n  }\n\n  changeEmail = (newEmail) => {\n    this.setState({ email: newEmail });\n  };\n\n  handleForgotPassword = () => {\n    const email = this.state.email;\n    firebase\n      .auth()\n      .sendPasswordResetEmail(email)\n      .then(() => {\n        this.setState({ errorMessageBoolean: false });\n        this.setState({\n          errorMessage:\n            \"A password reset link has been sent to your email address, please reset your password and try logging in again. You will be redirected to the login page.\",\n        });\n        setTimeout(() => (window.location.href = \"/landing\"), 5000);\n      })\n      .catch((error) => {\n        this.setState({ errorMessageBoolean: true });\n        this.setState({ errorMessage: error.message });\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"main-div\">\n        <div className=\"message-ls\">Forgot Password</div>\n        <TextBox\n          label={\"Email\"}\n          type={\"text\"}\n          value={this.state.email}\n          change={this.changeEmail}\n        />\n        <div\n          style={\n            this.state.errorMessageBoolean\n              ? { color: \"red\" }\n              : { color: \"green\" }\n          }\n          className=\"error-messages\"\n        >\n          {this.state.errorMessage}\n        </div>\n        <br />\n        <CustomButton\n          value={\"Reset Password\"}\n          onClick={this.handleForgotPassword}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ForgotPasswordScreen;\n"]},"metadata":{},"sourceType":"module"}