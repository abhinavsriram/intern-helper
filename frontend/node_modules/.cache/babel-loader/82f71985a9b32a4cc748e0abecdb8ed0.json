{"ast":null,"code":"import _classCallCheck from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../styles/HomeScreen.css\";import firebase from\"../../firebase\";import BigCustomButton from\"../../components/src/BigCustomButton\";import image from\"../../media/accessdenied.jpeg\";import CustomButton from\"../../components/src/CustomButton\";import{WaveLoading}from\"react-loadingg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomeScreen=/*#__PURE__*/function(_Component){_inherits(HomeScreen,_Component);var _super=_createSuper(HomeScreen);function HomeScreen(props){var _this;_classCallCheck(this,HomeScreen);_this=_super.call(this,props);_this.getUserID=function(){var authFlag=true;firebase.auth().onAuthStateChanged(function(user){if(authFlag){authFlag=false;if(user){_this.setState({uid:user.uid});_this.setState({access:true});_this.getUserName();}else{_this.setState({access:false});}}});};_this.getUserName=function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).get().then(function(doc){if(doc.exists){_this.setState({firstName:\", \"+doc.data().first_name+\"!\"});}else{console.log(\"no data acquired\");}}).catch(function(error){console.log(error.message);});};_this.logOutUser=function(){firebase.auth().signOut().then(function(){window.location.href=\"/landing\";}).catch(function(error){// error happened\n});};_this.viewProfile=function(){window.location.href=\"/account\";};_this.viewInternshipsForMe=function(){window.location.href=\"/internshipsforme\";};_this.state={uid:\"\",firstName:\"\",access:true,loading:true};return _this;}_createClass(HomeScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.getUserID();this.id=setTimeout(function(){return _this2.setState({loading:false});},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.id);}},{key:\"render\",value:function render(){return this.state.access?this.state.loading?/*#__PURE__*/_jsx(WaveLoading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"main-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-home\",children:[\"Welcome\",this.state.firstName]}),/*#__PURE__*/_jsx(\"div\",{className:\"log-out\",children:/*#__PURE__*/_jsx(CustomButton,{value:\"Log Out\",onClick:this.logOutUser})}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"View Your Profile\",onClick:this.viewProfile}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"Internships For Me\",onClick:this.viewInternshipsForMe}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"Search For Internships\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"denied-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"access denied\",style:{height:\"330px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"Click Here To Log In\",onClick:function onClick(){window.location.href=\"/landing\";}})]});}}]);return HomeScreen;}(Component);export default HomeScreen;","map":{"version":3,"sources":["/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/HomeScreen.js"],"names":["React","Component","firebase","BigCustomButton","image","CustomButton","WaveLoading","HomeScreen","props","getUserID","authFlag","auth","onAuthStateChanged","user","setState","uid","access","getUserName","firestore","collection","doc","state","get","then","exists","firstName","data","first_name","console","log","catch","error","message","logOutUser","signOut","window","location","href","viewProfile","viewInternshipsForMe","loading","id","setTimeout","clearTimeout","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/HomeScreen.css\";\nimport firebase from \"../../firebase\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\n\nclass HomeScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid: \"\",\n      firstName: \"\",\n      access: true,\n      loading: true,\n    };\n  }\n\n  getUserID = () => {\n    let authFlag = true;\n    firebase.auth().onAuthStateChanged((user) => {\n      if (authFlag) {\n        authFlag = false;\n        if (user) {\n          this.setState({ uid: user.uid });\n          this.setState({ access: true });\n          this.getUserName();\n        } else {\n          this.setState({ access: false });\n        }\n      }\n    });\n  };\n\n  getUserName = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          this.setState({ firstName: \", \" + doc.data().first_name + \"!\" });\n        } else {\n          console.log(\"no data acquired\");\n        }\n      })\n      .catch((error) => {\n        console.log(error.message);\n      });\n  };\n\n  componentDidMount() {\n    this.getUserID();\n    this.id = setTimeout(() => this.setState({ loading: false }), 1000);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  logOutUser = () => {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.location.href = \"/landing\";\n      })\n      .catch((error) => {\n        // error happened\n      });\n  };\n\n  viewProfile = () => {\n    window.location.href = \"/account\";\n  };\n\n  viewInternshipsForMe = () => {\n    window.location.href = \"/internshipsforme\";\n  };\n\n  render() {\n    return this.state.access ? (\n      this.state.loading ? (\n        <WaveLoading />\n      ) : (\n        <div className=\"main-div\">\n          <div className=\"header-home\">Welcome{this.state.firstName}</div>\n          <div className=\"log-out\">\n            <CustomButton value={\"Log Out\"} onClick={this.logOutUser} />\n          </div>\n          <BigCustomButton\n            value={\"View Your Profile\"}\n            onClick={this.viewProfile}\n          />\n          <br /> <br /> <br /> <br />\n          <BigCustomButton\n            value={\"Internships For Me\"}\n            onClick={this.viewInternshipsForMe}\n          />\n          <br /> <br /> <br /> <br />\n          <BigCustomButton value={\"Search For Internships\"} />\n        </div>\n      )\n    ) : (\n      <div className={\"denied-wrapper\"}>\n        <img src={image} alt={\"access denied\"} style={{ height: \"330px\" }} />\n        <br /> <br /> <br /> <br />\n        <BigCustomButton\n          value={\"Click Here To Log In\"}\n          onClick={() => {\n            window.location.href = \"/landing\";\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}