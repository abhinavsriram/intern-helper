{"ast":null,"code":"var _jsxFileName = \"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/SearchForInternshipsScreen.js\";\nimport React, { Component } from \"react\";\nimport \"../styles/SearchForInternshipsScreen.css\";\nimport firebase from \"../../firebase\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\nimport axios from \"axios\";\nimport InternshipResult from \"../../components/src/InternshipResult\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchForInternshipsScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getResultsFromBackend = user => {\n      const toSend = {\n        id: user.uid\n      };\n      let config = {\n        headers: {\n          Accept: \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      };\n      axios.post(\"http://localhost:5100/userJobResults\", toSend, config).then(response => {\n        let localInternships = [];\n        let localInternshipsList = [];\n        Object.entries(response.data[\"userJobResults\"]).forEach(([key, value]) => {\n          let crypto = require(\"crypto-js\");\n\n          let concat = value[\"title\"] + value[\"company\"] + value[\"link\"] + value[\"requiredQualifications\"];\n          let ID = crypto.SHA256(concat).toString();\n          localInternshipsList.push(ID);\n          localInternships.push( /*#__PURE__*/_jsxDEV(InternshipResult, {\n            title: value[\"title\"],\n            company: value[\"company\"],\n            apply: value[\"link\"],\n            description: value[\"requiredQualifications\"]\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this));\n          this.writeToDatabase(ID, value[\"title\"], value[\"company\"], value[\"requiredQualifications\"], value[\"link\"]);\n        });\n        this.setState({\n          internships: localInternships\n        });\n        this.setState({\n          internshipsList: localInternshipsList\n        }, () => {\n          firebase.firestore().collection(\"user-data\").doc(this.state.uid).collection(\"internships\").doc(\"Internships List\").set({\n            internshipsList: this.state.internshipsList\n          }).then(() => {\n            firebase.firestore().collection(\"user-data\").doc(this.state.uid).update({\n              changed_resume: false\n            }).then(() => {}).catch(error => {\n              this.setState({\n                errorMessage: \"Oops! It looks like something went wrong. Please try again.\"\n              });\n            });\n          }).catch(error => {\n            this.setState({\n              errorMessage: \"Oops! It looks like something went wrong. Please try again.\"\n            });\n          });\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.getUserID = () => {\n      let authFlag = true;\n      firebase.auth().onAuthStateChanged(user => {\n        if (authFlag) {\n          authFlag = false;\n\n          if (user) {\n            firebase.firestore().collection(\"user-data\").doc(user.uid).get().then(doc => {\n              if (doc.exists) {\n                if (doc.data().changed_resume) {\n                  this.getResultsFromBackend(user);\n                } else {\n                  this.getInternships(user);\n                }\n              }\n            }).catch(error => {\n              console.log(error.message);\n            });\n            this.setState({\n              uid: user.uid\n            });\n            this.setState({\n              access: true\n            });\n          } else {\n            this.setState({\n              access: false\n            });\n          }\n        }\n      });\n    };\n\n    this.populateSectors = () => {\n      let localSectors1 = [];\n      let localSectors2 = [];\n      let counter = 0;\n\n      for (let key in this.state.allRoles) {\n        counter += 1;\n\n        if (counter <= 4) {\n          localSectors1.push( /*#__PURE__*/_jsxDEV(CustomButton, {\n            value: key,\n            onClick: () => this.populateRoles(key)\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 11\n          }, this));\n        } else if (counter <= 8 && counter > 4) {\n          localSectors2.push( /*#__PURE__*/_jsxDEV(CustomButton, {\n            value: key,\n            onClick: () => this.populateRoles(key)\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 11\n          }, this));\n        }\n      }\n\n      this.setState({\n        sectors1: localSectors1\n      });\n      this.setState({\n        sectors2: localSectors2\n      });\n    };\n\n    this.populateRoles = sector => {\n      let localRoles1 = [];\n      let localRoles2 = [];\n      let localRoles3 = [];\n      let counter = 0;\n\n      for (let innerKey in this.state.allRoles[sector]) {\n        counter += 1;\n\n        if (counter <= 4) {\n          localRoles1.push( /*#__PURE__*/_jsxDEV(BigCustomButton, {\n            value: this.state.allRoles[sector][innerKey],\n            onClick: () => this.handleSelection(this.state.allRoles[sector][innerKey])\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 11\n          }, this));\n        } else if (counter <= 8 && counter > 4) {\n          localRoles2.push( /*#__PURE__*/_jsxDEV(BigCustomButton, {\n            value: this.state.allRoles[sector][innerKey],\n            onClick: () => this.handleSelection(this.state.allRoles[sector][innerKey])\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 11\n          }, this));\n        } else {\n          localRoles3.push( /*#__PURE__*/_jsxDEV(BigCustomButton, {\n            value: this.state.allRoles[sector][innerKey],\n            onClick: () => this.handleSelection(this.state.allRoles[sector][innerKey])\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 11\n          }, this));\n        }\n      }\n\n      this.setState({\n        roles1: localRoles1\n      });\n      this.setState({\n        roles2: localRoles2\n      });\n      this.setState({\n        roles3: localRoles3\n      });\n    };\n\n    this.handleSelection = role => {\n      // make post request here as callback to setState\n      this.setState({\n        internshipsList: []\n      });\n      console.log(role);\n    };\n\n    this.goBack = () => {\n      window.location.href = \"/home\";\n    };\n\n    this.state = {\n      uid: \"\",\n      access: true,\n      loading: true,\n      allRoles: {\n        Healthcare: {\n          hcr: \"Healthcare Research Intern\",\n          hcra: \"Healthcare Administration Intern\",\n          la: \"Lab Assistant Intern\",\n          hcc: \"Healthcare Consultant Intern\",\n          cc: \"Clinical Coordinator Intern\",\n          r: \"Research Intern\",\n          ph: \"Pharmacy Intern\"\n        },\n        Technology: {\n          ss: \"Support Specialist Intern\",\n          ds: \"Data Science Intern\",\n          ux: \"UI/UX Intern\",\n          swe: \"Software Engineering Intern\",\n          wd: \"Web Developer Intern\",\n          qae: \"Quality Assurance Engineer Intern\",\n          de: \"Data Engineer Intern\",\n          ne: \"Network Engineer Intern\",\n          se: \"Systems Engineer Intern\",\n          pm: \"Product Management Intern\",\n          s: \"Security Intern\",\n          da: \"Data Analysis Intern\"\n        },\n        \"Real Estate\": {\n          reo: \"Real Estate Operations Intern\",\n          repm: \"Real Estate Property Management Intern\",\n          cre: \"Commercial Real Estate Intern\",\n          ps: \"Property Strategy Intern\",\n          red: \"Real Estate Development Intern\"\n        },\n        Retail: {\n          md: \"Merchandising Intern\",\n          c: \"Communications Intern\",\n          m: \"Marketing Intern\",\n          sc: \"Store Clerk Intern\",\n          dt: \"Distribution Intern\",\n          sa: \"Sales Associate Intern\",\n          ro: \"Retail Operations Intern\",\n          cnc: \"Content Creator Intern\",\n          bs: \"Brand Strategist Intern\",\n          mm: \"Multimdeia Intern\",\n          sm: \"Social Media Intern\",\n          gd: \"Graphic Design Intern\"\n        },\n        Education: {\n          tf: \"Teaching Fellow Intern\",\n          ta: \"Teaching Assistant Intern\",\n          cd: \"Curriculum Development Intern\",\n          ei: \"Education Intern\",\n          sw: \"Social Work Intern\"\n        },\n        Government: {\n          ga: \"Government Affairs Intern\",\n          gr: \"Government Relations Intern\",\n          ca: \"Community Affairs Intern\",\n          pe: \"Public Engagement Intern\",\n          oure: \"Outreach Intern\",\n          lob: \"Lobbying Intern\",\n          camp: \"Campaign Intern\",\n          po: \"Political Operations Intern\",\n          e: \"Editorial Intern\",\n          l: \"Legal Intern\",\n          p: \"Policy Intern\"\n        },\n        Finance: {\n          fi: \"Fixed Income Intern\",\n          eq: \"Equities Intern\",\n          a: \"Accounting Intern\",\n          ib: \"Investment Banking Intern\",\n          ra: \"Risk Advisory Intern\",\n          wm: \"Wealth Management Intern\",\n          bank: \"Banking Intern\",\n          ia: \"Investment Analyst Intern\"\n        },\n        Business: {\n          corstrat: \"Corporate Strategy Intern\",\n          bd: \"Business Development Intern\",\n          cn: \"Consulting Intern\",\n          o: \"Operations Intern\",\n          pr: \"Public Relations Intern\",\n          hr: \"Human Resources Intern\"\n        }\n      },\n      sectors1: [],\n      sectors2: [],\n      roles1: [],\n      roles2: [],\n      roles3: [],\n      internships: [],\n      internshipsList: [],\n      changedResume: false\n    };\n  }\n\n  componentDidMount() {\n    this.getUserID();\n    this.populateSectors();\n    this.populateRoles(\"Healthcare\");\n    this.id = setTimeout(() => this.setState({\n      loading: false\n    }), 100);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  render() {\n    return this.state.access ? this.state.loading ? /*#__PURE__*/_jsxDEV(WaveLoading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"back-button\",\n        children: /*#__PURE__*/_jsxDEV(CustomButton, {\n          value: \"Go Back\",\n          onClick: this.goBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-search\",\n        children: \"Pick a Sector, Then a Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subheading-1\",\n        children: \"Sectors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"industry-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-wrap\",\n          children: this.state.sectors1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"industry-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-wrap\",\n          children: this.state.sectors2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subheading-2\",\n        children: \"Roles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roles-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-wrap\",\n          children: this.state.roles1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roles-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-wrap\",\n          children: this.state.roles2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roles-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-wrap\",\n          children: this.state.roles3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"denied-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"access denied\",\n        style: {\n          height: \"330px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 16\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 23\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(BigCustomButton, {\n        value: \"Click Here To Log In\",\n        onClick: () => {\n          window.location.href = \"/landing\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SearchForInternshipsScreen;","map":{"version":3,"sources":["/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/SearchForInternshipsScreen.js"],"names":["React","Component","firebase","BigCustomButton","image","CustomButton","WaveLoading","axios","InternshipResult","SearchForInternshipsScreen","constructor","props","getResultsFromBackend","user","toSend","id","uid","config","headers","Accept","post","then","response","localInternships","localInternshipsList","Object","entries","data","forEach","key","value","crypto","require","concat","ID","SHA256","toString","push","Math","random","writeToDatabase","setState","internships","internshipsList","firestore","collection","doc","state","set","update","changed_resume","catch","error","errorMessage","console","log","getUserID","authFlag","auth","onAuthStateChanged","get","exists","getInternships","message","access","populateSectors","localSectors1","localSectors2","counter","allRoles","populateRoles","sectors1","sectors2","sector","localRoles1","localRoles2","localRoles3","innerKey","handleSelection","roles1","roles2","roles3","role","goBack","window","location","href","loading","Healthcare","hcr","hcra","la","hcc","cc","r","ph","Technology","ss","ds","ux","swe","wd","qae","de","ne","se","pm","s","da","reo","repm","cre","ps","red","Retail","md","c","m","sc","dt","sa","ro","cnc","bs","mm","sm","gd","Education","tf","ta","cd","ei","sw","Government","ga","gr","ca","pe","oure","lob","camp","po","e","l","p","Finance","fi","eq","a","ib","ra","wm","bank","ia","Business","corstrat","bd","cn","o","pr","hr","changedResume","componentDidMount","setTimeout","componentWillUnmount","clearTimeout","render","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/SearchForInternshipsScreen.css\";\nimport firebase from \"../../firebase\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport { WaveLoading } from \"react-loadingg\";\nimport axios from \"axios\";\nimport InternshipResult from \"../../components/src/InternshipResult\";\n\nclass SearchForInternshipsScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uid: \"\",\n      access: true,\n      loading: true,\n      allRoles: {\n        Healthcare: {\n          hcr: \"Healthcare Research Intern\",\n          hcra: \"Healthcare Administration Intern\",\n          la: \"Lab Assistant Intern\",\n          hcc: \"Healthcare Consultant Intern\",\n          cc: \"Clinical Coordinator Intern\",\n          r: \"Research Intern\",\n          ph: \"Pharmacy Intern\",\n        },\n        Technology: {\n          ss: \"Support Specialist Intern\",\n          ds: \"Data Science Intern\",\n          ux: \"UI/UX Intern\",\n          swe: \"Software Engineering Intern\",\n          wd: \"Web Developer Intern\",\n          qae: \"Quality Assurance Engineer Intern\",\n          de: \"Data Engineer Intern\",\n          ne: \"Network Engineer Intern\",\n          se: \"Systems Engineer Intern\",\n          pm: \"Product Management Intern\",\n          s: \"Security Intern\",\n          da: \"Data Analysis Intern\",\n        },\n        \"Real Estate\": {\n          reo: \"Real Estate Operations Intern\",\n          repm: \"Real Estate Property Management Intern\",\n          cre: \"Commercial Real Estate Intern\",\n          ps: \"Property Strategy Intern\",\n          red: \"Real Estate Development Intern\",\n        },\n        Retail: {\n          md: \"Merchandising Intern\",\n          c: \"Communications Intern\",\n          m: \"Marketing Intern\",\n          sc: \"Store Clerk Intern\",\n          dt: \"Distribution Intern\",\n          sa: \"Sales Associate Intern\",\n          ro: \"Retail Operations Intern\",\n          cnc: \"Content Creator Intern\",\n          bs: \"Brand Strategist Intern\",\n          mm: \"Multimdeia Intern\",\n          sm: \"Social Media Intern\",\n          gd: \"Graphic Design Intern\",\n        },\n        Education: {\n          tf: \"Teaching Fellow Intern\",\n          ta: \"Teaching Assistant Intern\",\n          cd: \"Curriculum Development Intern\",\n          ei: \"Education Intern\",\n          sw: \"Social Work Intern\",\n        },\n        Government: {\n          ga: \"Government Affairs Intern\",\n          gr: \"Government Relations Intern\",\n          ca: \"Community Affairs Intern\",\n          pe: \"Public Engagement Intern\",\n          oure: \"Outreach Intern\",\n          lob: \"Lobbying Intern\",\n          camp: \"Campaign Intern\",\n          po: \"Political Operations Intern\",\n          e: \"Editorial Intern\",\n          l: \"Legal Intern\",\n          p: \"Policy Intern\",\n        },\n        Finance: {\n          fi: \"Fixed Income Intern\",\n          eq: \"Equities Intern\",\n          a: \"Accounting Intern\",\n          ib: \"Investment Banking Intern\",\n          ra: \"Risk Advisory Intern\",\n          wm: \"Wealth Management Intern\",\n          bank: \"Banking Intern\",\n          ia: \"Investment Analyst Intern\",\n        },\n        Business: {\n          corstrat: \"Corporate Strategy Intern\",\n          bd: \"Business Development Intern\",\n          cn: \"Consulting Intern\",\n          o: \"Operations Intern\",\n          pr: \"Public Relations Intern\",\n          hr: \"Human Resources Intern\",\n        },\n      },\n      sectors1: [],\n      sectors2: [],\n      roles1: [],\n      roles2: [],\n      roles3: [],\n      internships: [],\n      internshipsList: [],\n      changedResume: false,\n    };\n  }\n\n  getResultsFromBackend = (user) => {\n    const toSend = {\n      id: user.uid,\n    };\n    let config = {\n      headers: {\n        Accept: \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n    };\n    axios\n      .post(\"http://localhost:5100/userJobResults\", toSend, config)\n      .then((response) => {\n        let localInternships = [];\n        let localInternshipsList = [];\n        Object.entries(response.data[\"userJobResults\"]).forEach(\n          ([key, value]) => {\n            let crypto = require(\"crypto-js\");\n            let concat =\n              value[\"title\"] +\n              value[\"company\"] +\n              value[\"link\"] +\n              value[\"requiredQualifications\"];\n            let ID = crypto.SHA256(concat).toString();\n            localInternshipsList.push(ID);\n            localInternships.push(\n              <InternshipResult\n                title={value[\"title\"]}\n                company={value[\"company\"]}\n                apply={value[\"link\"]}\n                description={value[\"requiredQualifications\"]}\n                key={Math.random()}\n              />\n            );\n            this.writeToDatabase(\n              ID,\n              value[\"title\"],\n              value[\"company\"],\n              value[\"requiredQualifications\"],\n              value[\"link\"]\n            );\n          }\n        );\n        this.setState({ internships: localInternships });\n        this.setState({ internshipsList: localInternshipsList }, () => {\n          firebase\n            .firestore()\n            .collection(\"user-data\")\n            .doc(this.state.uid)\n            .collection(\"internships\")\n            .doc(\"Internships List\")\n            .set({\n              internshipsList: this.state.internshipsList,\n            })\n            .then(() => {\n              firebase\n                .firestore()\n                .collection(\"user-data\")\n                .doc(this.state.uid)\n                .update({\n                  changed_resume: false,\n                })\n                .then(() => {})\n                .catch((error) => {\n                  this.setState({\n                    errorMessage:\n                      \"Oops! It looks like something went wrong. Please try again.\",\n                  });\n                });\n            })\n            .catch((error) => {\n              this.setState({\n                errorMessage:\n                  \"Oops! It looks like something went wrong. Please try again.\",\n              });\n            });\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  getUserID = () => {\n    let authFlag = true;\n    firebase.auth().onAuthStateChanged((user) => {\n      if (authFlag) {\n        authFlag = false;\n        if (user) {\n          firebase\n            .firestore()\n            .collection(\"user-data\")\n            .doc(user.uid)\n            .get()\n            .then((doc) => {\n              if (doc.exists) {\n                if (doc.data().changed_resume) {\n                  this.getResultsFromBackend(user);\n                } else {\n                  this.getInternships(user);\n                }\n              }\n            })\n            .catch((error) => {\n              console.log(error.message);\n            });\n          this.setState({ uid: user.uid });\n          this.setState({ access: true });\n        } else {\n          this.setState({ access: false });\n        }\n      }\n    });\n  };\n\n  populateSectors = () => {\n    let localSectors1 = [];\n    let localSectors2 = [];\n    let counter = 0;\n    for (let key in this.state.allRoles) {\n      counter += 1;\n      if (counter <= 4) {\n        localSectors1.push(\n          <CustomButton\n            value={key}\n            onClick={() => this.populateRoles(key)}\n            key={Math.random()}\n          />\n        );\n      } else if (counter <= 8 && counter > 4) {\n        localSectors2.push(\n          <CustomButton\n            value={key}\n            onClick={() => this.populateRoles(key)}\n            key={Math.random()}\n          />\n        );\n      }\n    }\n    this.setState({ sectors1: localSectors1 });\n    this.setState({ sectors2: localSectors2 });\n  };\n\n  componentDidMount() {\n    this.getUserID();\n    this.populateSectors();\n    this.populateRoles(\"Healthcare\");\n    this.id = setTimeout(() => this.setState({ loading: false }), 100);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  populateRoles = (sector) => {\n    let localRoles1 = [];\n    let localRoles2 = [];\n    let localRoles3 = [];\n    let counter = 0;\n    for (let innerKey in this.state.allRoles[sector]) {\n      counter += 1;\n      if (counter <= 4) {\n        localRoles1.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      } else if (counter <= 8 && counter > 4) {\n        localRoles2.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      } else {\n        localRoles3.push(\n          <BigCustomButton\n            value={this.state.allRoles[sector][innerKey]}\n            onClick={() =>\n              this.handleSelection(this.state.allRoles[sector][innerKey])\n            }\n            key={Math.random()}\n          />\n        );\n      }\n    }\n    this.setState({ roles1: localRoles1 });\n    this.setState({ roles2: localRoles2 });\n    this.setState({ roles3: localRoles3 });\n  };\n\n  handleSelection = (role) => {\n    // make post request here as callback to setState\n    this.setState({ internshipsList: [] });\n    console.log(role);\n  };\n\n  goBack = () => {\n    window.location.href = \"/home\";\n  };\n\n  render() {\n    return this.state.access ? (\n      this.state.loading ? (\n        <WaveLoading />\n      ) : (\n        <div className=\"main-div\">\n          <div className=\"back-button\">\n            <CustomButton value={\"Go Back\"} onClick={this.goBack} />\n          </div>\n          <div className=\"header-search\">Pick a Sector, Then a Role</div>\n          <div className=\"subheading-1\">Sectors</div>\n          <div className=\"industry-wrapper\">\n            <div className=\"flex-wrap\">{this.state.sectors1}</div>\n          </div>\n          <div className=\"industry-wrapper\">\n            <div className=\"flex-wrap\">{this.state.sectors2}</div>\n          </div>\n          <div className=\"subheading-2\">Roles</div>\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles1}</div>\n          </div>\n          <br />\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles2}</div>\n          </div>\n          <br />\n          <div className=\"roles-wrapper\">\n            <div className=\"flex-wrap\">{this.state.roles3}</div>\n          </div>\n        </div>\n      )\n    ) : (\n      <div className={\"denied-wrapper\"}>\n        <img src={image} alt={\"access denied\"} style={{ height: \"330px\" }} />\n        <br /> <br /> <br /> <br />\n        <BigCustomButton\n          value={\"Click Here To Log In\"}\n          onClick={() => {\n            window.location.href = \"/landing\";\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchForInternshipsScreen;\n"]},"metadata":{},"sourceType":"module"}