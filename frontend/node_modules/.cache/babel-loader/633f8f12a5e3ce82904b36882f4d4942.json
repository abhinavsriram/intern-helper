{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../styles/ViewProfileScreen.css\";import firebase from\"../../firebase\";import BigCustomButton from\"../../components/src/BigCustomButton\";import image from\"../../media/accessdenied.jpeg\";import CustomButton from\"../../components/src/CustomButton\";import TextBox from\"../../components/src/TextBox\";import AddExperience from\"../../components/src/AddExperience\";import ErrorMessage from\"../../components/src/ErrorMessage\";import CollapsedExperience from\"../../components/src/CollapsedExperience\";import MediumTextBox from\"../../components/src/MediumTextBox\";import{WaveLoading}from\"react-loadingg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewProfileScreen=/*#__PURE__*/function(_Component){_inherits(ViewProfileScreen,_Component);var _super=_createSuper(ViewProfileScreen);function ViewProfileScreen(props){var _this;_classCallCheck(this,ViewProfileScreen);_this=_super.call(this,props);_this.getUserID=function(){var authFlag=true;firebase.auth().onAuthStateChanged(function(user){if(authFlag){authFlag=false;if(user){_this.setState({uid:user.uid});_this.setState({access:true});_this.getUserData();_this.getExperiencesList();}else{_this.setState({access:false});}}});};_this.getUserData=function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).get().then(function(doc){if(doc.exists){_this.setState({firstName:doc.data().first_name});_this.setState({lastName:doc.data().last_name});_this.setState({major:doc.data().major});_this.setState({university:doc.data().university});_this.setState({coursework:doc.data().coursework});_this.setState({skills:doc.data().skills});_this.setState({cumulativeGPA:doc.data().cumulative_gpa});_this.setState({majorGPA:doc.data().major_gpa});}}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.deleteExperience=function(concat){_this.setState({deleteVisible:true});_this.setState({currDeleteID:concat});};_this.deleteHelperNo=function(){_this.setState({deleteVisible:false});};_this.deleteHelperYes=function(concat){var crypto=require(\"crypto-js\");var IDToDelete=crypto.SHA256(concat).toString();var localList=_toConsumableArray(_this.state.experiencesList);var _iterator=_createForOfIteratorHelper(localList),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var currID=_step.value;var currIndex=localList.indexOf(currID);if(currID===IDToDelete){localList.splice(currIndex,1);_this.setState({experiencesList:localList},function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(\"Experiences List\").set({experiencesList:_this.state.experiencesList}).then(function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(IDToDelete).delete().then(function(){if(_this.state.tempConcat!==\"\"){// editing an experience\n_this.setState({experiences:[]},function(){var crypto=require(\"crypto-js\");var concat=_this.state.company+_this.state.title+_this.state.startDate+\" - \"+_this.state.endDate+_this.state.description;var ID=crypto.SHA256(concat).toString();setTimeout(function(){return _this.setState({modalVisible:false});},1000);_this.setState(function(prevState){return{experiencesList:[].concat(_toConsumableArray(prevState.experiencesList),[ID])};},function(){_this.writeToDatabase(ID);firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(\"Experiences List\").set({experiencesList:_this.state.experiencesList}).then(function(){_this.setState({modalVisible:false});_this.setState({tempConcat:\"\"});_this.getExperiencesList();}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});});});}else{_this.setState({experiences:[]},function(){_this.getExperiencesList();_this.setState({deleteVisible:false});_this.setState({currDeleteID:\"\"});});}}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});});}}}catch(err){_iterator.e(err);}finally{_iterator.f();}};_this.editExperience=function(values){_this.setState({title:values[0]});_this.setState({company:values[1]});_this.setState({startDate:values[2].split(\" - \")[0]});_this.setState({endDate:values[2].split(\" - \")[1]});_this.setState({description:values[3]});_this.setState({modalVisible:true});_this.setState({tempConcat:values[0]+values[1]+values[2]+values[3]});};_this.getExperiencesList=function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(\"Experiences List\").get().then(function(doc){if(doc.exists){_this.setState({experiencesList:doc.data().experiencesList},function(){var _loop=function _loop(i){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(_this.state.experiencesList[i]).get().then(function(doc){if(doc.exists){_this.setState(function(prevState){return{experiences:[].concat(_toConsumableArray(prevState.experiences),[/*#__PURE__*/_jsx(CollapsedExperience,{company:doc.data().company,title:doc.data().title,dates:doc.data().start_date+\" - \"+doc.data().end_date,description:doc.data().description,delete:_this.deleteExperience,edit:_this.editExperience},_this.state.experiencesList[i])])};});}}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};for(var i=0;i<_this.state.experiencesList.length;i++){_loop(i);}});}}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.changeFirstName=function(newName){_this.setState({changedBoolean:true});_this.setState({firstName:newName});};_this.changeLastName=function(newName){_this.setState({changedBoolean:true});_this.setState({lastName:newName});};_this.changeMajor=function(newMajor){_this.setState({changedBoolean:true});_this.setState({major:newMajor});};_this.changeUniversity=function(newUniversity){_this.setState({changedBoolean:true});_this.setState({university:newUniversity});};_this.changeTitle=function(newTitle){_this.setState({changedBoolean:true});_this.setState({title:newTitle});};_this.changeCompany=function(newCompany){_this.setState({changedBoolean:true});_this.setState({company:newCompany});};_this.changeStartDate=function(newStartDate){_this.setState({changedBoolean:true});_this.setState({startDate:newStartDate});};_this.changeEndDate=function(newEndDate){_this.setState({changedBoolean:true});_this.setState({endDate:newEndDate});};_this.changeDescription=function(newDescription){_this.setState({changedBoolean:true});_this.setState({description:newDescription});};_this.changeErrorMessage=function(newErrorMessage){_this.setState({errorMessage:newErrorMessage});};_this.changeCumulativeGPA=function(newGPA){_this.setState({changedBoolean:true});_this.setState({cumulativeGPA:newGPA});};_this.changeMajorGPA=function(newGPA){_this.setState({changedBoolean:true});_this.setState({majorGPA:newGPA});};_this.changeCoursework=function(newCoursework){_this.setState({changedBoolean:true});_this.setState({coursework:newCoursework});};_this.changeSkills=function(newSkills){_this.setState({changedBoolean:true});_this.setState({skills:newSkills});};_this.addExperienceButton=function(){_this.setState({modalVisible:true});};_this.writeToDatabase=function(id){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(id).set({title:_this.state.title,company:_this.state.company,start_date:_this.state.startDate,end_date:_this.state.endDate,description:_this.state.description}).then(function(){_this.setState({company:\"\"});_this.setState({title:\"\"});_this.setState({startDate:\"\"});_this.setState({endDate:\"\"});_this.setState({description:\"\"});}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.doneExperienceButton=function(){_this.setState({changedBoolean:true});if(_this.state.company!==\"\"&&_this.state.title!==\"\"&&_this.state.startDate!==\"\"&&_this.state.endDate!==\"\"&&_this.state.description!==\"\"){if(_this.state.tempConcat!==\"\"){_this.deleteHelperYes(_this.state.tempConcat);}else{var crypto=require(\"crypto-js\");var concat=_this.state.company+_this.state.title+_this.state.startDate+\" - \"+_this.state.endDate+_this.state.description;var ID=crypto.SHA256(concat).toString();_this.setState({modalVisible:false});_this.setState(function(prevState){return{experiences:[].concat(_toConsumableArray(prevState.experiences),[/*#__PURE__*/_jsx(CollapsedExperience,{company:_this.state.company,title:_this.state.title,dates:_this.state.startDate+\" - \"+_this.state.endDate,description:_this.state.description,delete:_this.deleteExperience,edit:_this.editExperience},ID)])};});_this.setState(function(prevState){return{experiencesList:[].concat(_toConsumableArray(prevState.experiencesList),[ID])};});_this.writeToDatabase(ID);}}else{_this.setState({errorMessage:\"Oops! Please make sure all fields are filled.\"});}};_this.saveChangesButton=function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).update({first_name:_this.state.firstName,last_name:_this.state.lastName,major:_this.state.major,university:_this.state.university,cumulative_gpa:_this.state.cumulativeGPA,major_gpa:_this.state.majorGPA,coursework:_this.state.coursework,skills:_this.state.skills,initial_profile_setup_complete:true,changed_resume:true}).then(function(){firebase.firestore().collection(\"user-data\").doc(_this.state.uid).collection(\"experiences\").doc(\"Experiences List\").set({experiencesList:_this.state.experiencesList}).then(function(){if(_this.state.errorMessage===\"\"){window.location.href=\"/home\";}}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});}).catch(function(error){_this.setState({errorMessage:\"Oops! It looks like something went wrong. Please try again.\"});});};_this.okErrorButton=function(){window.location.href=\"/home\";_this.setState({errorVisible:false});_this.setState({errorOkay:false});_this.setState({changedBoolean:false});};_this.cancelErrorButton=function(){_this.setState({errorCancel:false});_this.setState({errorVisible:false});};_this.goBackButton=function(){if(!_this.state.changedBoolean){window.location.href=\"/home\";}else{_this.setState({errorVisible:true});}};_this.triggerMainDivVisibility=function(){if(_this.state.modalVisible){if(_this.state.changedBoolean){if(window.confirm(\"Oops! It looks like you have made changes that are unsaved. Are you sure you wish to leave?\")){_this.setState({modalVisible:false});_this.setState({title:\"\"});_this.setState({company:\"\"});_this.setState({startDate:\"\"});_this.setState({endDate:\"\"});_this.setState({description:\"\"});}}else{_this.setState({modalVisible:false});_this.setState({title:\"\"});_this.setState({company:\"\"});_this.setState({startDate:\"\"});_this.setState({endDate:\"\"});_this.setState({description:\"\"});}}};_this.state={firstName:\"\",lastName:\"\",major:\"\",university:\"\",cumulativeGPA:\"\",majorGPA:\"\",coursework:\"\",skills:\"\",experiences:[],experiencesList:[],modalVisible:false,errorVisible:false,deleteVisible:false,errorOkay:false,errorCancel:false,title:\"\",company:\"\",startDate:\"\",endDate:\"\",description:\"\",errorMessage:\"\",errorMessageBoolean:false,uid:\"\",access:true,changedBoolean:false,loading:true,tempConcat:\"\",currDeleteID:\"\"};return _this;}_createClass(ViewProfileScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.body.style.zoom=\"80%\";this.getUserID();this.id=setTimeout(function(){return _this2.setState({loading:false});},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.id);}},{key:\"render\",value:function render(){var _this3=this;var blurDiv={filter:\"blur(3px)\",backgroundColor:\"#ebebeb\",minWidth:\"127vw\",overflowY:\"hidden\",overflowX:\"hidden\"};var normalDiv={backgroundColor:\"white\"};var addExperienceModal={position:\"absolute\",top:\"4%\",left:\"30%\",zIndex:\"10\"};var errorMessageModal={position:\"absolute\",top:\"40%\",left:\"25%\",zIndex:\"10\"};return this.state.access?this.state.loading?/*#__PURE__*/_jsx(WaveLoading,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-div\",style:this.state.modalVisible||this.state.errorVisible||this.state.deleteVisible?blurDiv:normalDiv,onClick:this.triggerMainDivVisibility,children:/*#__PURE__*/_jsxs(\"div\",{className:\"collapsed-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"custom-header\",children:\"Your Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"back-button-p\",children:/*#__PURE__*/_jsx(CustomButton,{value:\"Go Back\",onClick:this.goBackButton})}),/*#__PURE__*/_jsx(\"div\",{className:\"save-changes\",children:/*#__PURE__*/_jsx(CustomButton,{value:\"Save Changes\",onClick:this.saveChangesButton})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-wrapper\",children:[/*#__PURE__*/_jsx(TextBox,{label:\"First Name\",value:this.state.firstName,change:this.changeFirstName}),/*#__PURE__*/_jsx(TextBox,{label:\"Last Name\",value:this.state.lastName,change:this.changeLastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-wrapper\",children:[/*#__PURE__*/_jsx(TextBox,{label:\"Major\",value:this.state.major,change:this.changeMajor}),/*#__PURE__*/_jsx(TextBox,{label:\"University\",value:this.state.university,change:this.changeUniversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-wrapper\",children:[/*#__PURE__*/_jsx(TextBox,{label:\"Cumulative GPA\",value:this.state.cumulativeGPA,change:this.changeCumulativeGPA}),/*#__PURE__*/_jsx(TextBox,{label:\"Major GPA\",value:this.state.majorGPA,change:this.changeMajorGPA})]}),/*#__PURE__*/_jsx(MediumTextBox,{label:\"Relevant Coursework\",value:this.state.coursework,change:this.changeCoursework}),/*#__PURE__*/_jsx(MediumTextBox,{label:\"Relevant Skills\",value:this.state.skills,change:this.changeSkills}),/*#__PURE__*/_jsx(\"div\",{className:\"subheading-cp\",children:\"Relevant Experiences\"}),this.state.experiences,/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper-cp\",children:/*#__PURE__*/_jsx(CustomButton,{value:\"Add Experience\",onClick:this.addExperienceButton})})]})}),/*#__PURE__*/_jsx(\"div\",{style:addExperienceModal,children:/*#__PURE__*/_jsx(AddExperience,{hidden:this.state.modalVisible,done:this.doneExperienceButton,title:this.state.title,changeTitle:this.changeTitle,company:this.state.company,changeCompany:this.changeCompany,startDate:this.state.startDate,changeStartDate:this.changeStartDate,endDate:this.state.endDate,changeEndDate:this.changeEndDate,description:this.state.description,changeDescription:this.changeDescription,errorMessage:this.state.errorMessage,changeErrorMessage:this.changeErrorMessage})}),/*#__PURE__*/_jsx(\"div\",{style:errorMessageModal,children:/*#__PURE__*/_jsx(ErrorMessage,{hidden:this.state.errorVisible,ok:this.okErrorButton,cancel:this.cancelErrorButton,message:\"Oops! It looks like you have made changes that are unsaved. Are you sure you wish to leave?\"})}),/*#__PURE__*/_jsx(\"div\",{style:errorMessageModal,children:/*#__PURE__*/_jsx(ErrorMessage,{hidden:this.state.deleteVisible,ok:function ok(){return _this3.deleteHelperYes(_this3.state.currDeleteID);},cancel:function cancel(){return _this3.deleteHelperNo();},message:\"Are you sure you wish to delete this experience?\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"denied-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"access denied\",style:{height:\"330px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(BigCustomButton,{value:\"Click Here To Log In\",onClick:function onClick(){window.location.href=\"/landing\";}})]});}}]);return ViewProfileScreen;}(Component);export default ViewProfileScreen;","map":{"version":3,"sources":["/Users/abhinavsriram/Desktop/cs0320/projects/term-project/frontend/src/screens/src/ViewProfileScreen.js"],"names":["React","Component","firebase","BigCustomButton","image","CustomButton","TextBox","AddExperience","ErrorMessage","CollapsedExperience","MediumTextBox","WaveLoading","ViewProfileScreen","props","getUserID","authFlag","auth","onAuthStateChanged","user","setState","uid","access","getUserData","getExperiencesList","firestore","collection","doc","state","get","then","exists","firstName","data","first_name","lastName","last_name","major","university","coursework","skills","cumulativeGPA","cumulative_gpa","majorGPA","major_gpa","catch","error","errorMessage","deleteExperience","concat","deleteVisible","currDeleteID","deleteHelperNo","deleteHelperYes","crypto","require","IDToDelete","SHA256","toString","localList","experiencesList","currID","currIndex","indexOf","splice","set","delete","tempConcat","experiences","company","title","startDate","endDate","description","ID","setTimeout","modalVisible","prevState","writeToDatabase","editExperience","values","split","i","start_date","end_date","length","changeFirstName","newName","changedBoolean","changeLastName","changeMajor","newMajor","changeUniversity","newUniversity","changeTitle","newTitle","changeCompany","newCompany","changeStartDate","newStartDate","changeEndDate","newEndDate","changeDescription","newDescription","changeErrorMessage","newErrorMessage","changeCumulativeGPA","newGPA","changeMajorGPA","changeCoursework","newCoursework","changeSkills","newSkills","addExperienceButton","id","doneExperienceButton","saveChangesButton","update","initial_profile_setup_complete","changed_resume","window","location","href","okErrorButton","errorVisible","errorOkay","cancelErrorButton","errorCancel","goBackButton","triggerMainDivVisibility","confirm","errorMessageBoolean","loading","document","body","style","zoom","clearTimeout","blurDiv","filter","backgroundColor","minWidth","overflowY","overflowX","normalDiv","addExperienceModal","position","top","left","zIndex","errorMessageModal","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../styles/ViewProfileScreen.css\";\nimport firebase from \"../../firebase\";\nimport BigCustomButton from \"../../components/src/BigCustomButton\";\nimport image from \"../../media/accessdenied.jpeg\";\nimport CustomButton from \"../../components/src/CustomButton\";\nimport TextBox from \"../../components/src/TextBox\";\nimport AddExperience from \"../../components/src/AddExperience\";\nimport ErrorMessage from \"../../components/src/ErrorMessage\";\nimport CollapsedExperience from \"../../components/src/CollapsedExperience\";\nimport MediumTextBox from \"../../components/src/MediumTextBox\";\nimport { WaveLoading } from \"react-loadingg\";\n\nclass ViewProfileScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      major: \"\",\n      university: \"\",\n      cumulativeGPA: \"\",\n      majorGPA: \"\",\n      coursework: \"\",\n      skills: \"\",\n      experiences: [],\n      experiencesList: [],\n      modalVisible: false,\n      errorVisible: false,\n      deleteVisible: false,\n      errorOkay: false,\n      errorCancel: false,\n      title: \"\",\n      company: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      description: \"\",\n      errorMessage: \"\",\n      errorMessageBoolean: false,\n      uid: \"\",\n      access: true,\n      changedBoolean: false,\n      loading: true,\n      tempConcat: \"\",\n      currDeleteID: \"\",\n    };\n  }\n\n  getUserID = () => {\n    let authFlag = true;\n    firebase.auth().onAuthStateChanged((user) => {\n      if (authFlag) {\n        authFlag = false;\n        if (user) {\n          this.setState({ uid: user.uid });\n          this.setState({ access: true });\n          this.getUserData();\n          this.getExperiencesList();\n        } else {\n          this.setState({ access: false });\n        }\n      }\n    });\n  };\n\n  getUserData = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          this.setState({ firstName: doc.data().first_name });\n          this.setState({ lastName: doc.data().last_name });\n          this.setState({ major: doc.data().major });\n          this.setState({ university: doc.data().university });\n          this.setState({ coursework: doc.data().coursework });\n          this.setState({ skills: doc.data().skills });\n          this.setState({ cumulativeGPA: doc.data().cumulative_gpa });\n          this.setState({ majorGPA: doc.data().major_gpa });\n        }\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  deleteExperience = (concat) => {\n    this.setState({ deleteVisible: true });\n    this.setState({ currDeleteID: concat });\n  };\n\n  deleteHelperNo = () => {\n    this.setState({ deleteVisible: false });\n  };\n\n  deleteHelperYes = (concat) => {\n    let crypto = require(\"crypto-js\");\n    let IDToDelete = crypto.SHA256(concat).toString();\n    let localList = [...this.state.experiencesList];\n    for (const currID of localList) {\n      let currIndex = localList.indexOf(currID);\n      if (currID === IDToDelete) {\n        localList.splice(currIndex, 1);\n        this.setState({ experiencesList: localList }, () => {\n          firebase\n            .firestore()\n            .collection(\"user-data\")\n            .doc(this.state.uid)\n            .collection(\"experiences\")\n            .doc(\"Experiences List\")\n            .set({\n              experiencesList: this.state.experiencesList,\n            })\n            .then(() => {\n              firebase\n                .firestore()\n                .collection(\"user-data\")\n                .doc(this.state.uid)\n                .collection(\"experiences\")\n                .doc(IDToDelete)\n                .delete()\n                .then(() => {\n                  if (this.state.tempConcat !== \"\") {\n                    // editing an experience\n                    this.setState({ experiences: [] }, () => {\n                      let crypto = require(\"crypto-js\");\n                      let concat =\n                        this.state.company +\n                        this.state.title +\n                        this.state.startDate +\n                        \" - \" +\n                        this.state.endDate +\n                        this.state.description;\n                      let ID = crypto.SHA256(concat).toString();\n                      setTimeout(\n                        () => this.setState({ modalVisible: false }),\n                        1000\n                      );\n                      this.setState(\n                        (prevState) => ({\n                          experiencesList: [...prevState.experiencesList, ID],\n                        }),\n                        () => {\n                          this.writeToDatabase(ID);\n                          firebase\n                            .firestore()\n                            .collection(\"user-data\")\n                            .doc(this.state.uid)\n                            .collection(\"experiences\")\n                            .doc(\"Experiences List\")\n                            .set({\n                              experiencesList: this.state.experiencesList,\n                            })\n                            .then(() => {\n                              this.setState({ modalVisible: false });\n                              this.setState({ tempConcat: \"\" });\n                              this.getExperiencesList();\n                            })\n                            .catch((error) => {\n                              this.setState({\n                                errorMessage:\n                                  \"Oops! It looks like something went wrong. Please try again.\",\n                              });\n                            });\n                        }\n                      );\n                    });\n                  } else {\n                    this.setState({ experiences: [] }, () => {\n                      this.getExperiencesList();\n                      this.setState({ deleteVisible: false });\n                      this.setState({ currDeleteID: \"\" });\n                    });\n                  }\n                })\n                .catch((error) => {\n                  this.setState({\n                    errorMessage:\n                      \"Oops! It looks like something went wrong. Please try again.\",\n                  });\n                });\n            })\n            .catch((error) => {\n              this.setState({\n                errorMessage:\n                  \"Oops! It looks like something went wrong. Please try again.\",\n              });\n            });\n        });\n      }\n    }\n  };\n\n  editExperience = (values) => {\n    this.setState({ title: values[0] });\n    this.setState({ company: values[1] });\n    this.setState({ startDate: values[2].split(\" - \")[0] });\n    this.setState({ endDate: values[2].split(\" - \")[1] });\n    this.setState({ description: values[3] });\n    this.setState({ modalVisible: true });\n    this.setState({\n      tempConcat: values[0] + values[1] + values[2] + values[3],\n    });\n  };\n\n  getExperiencesList = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .collection(\"experiences\")\n      .doc(\"Experiences List\")\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          this.setState({ experiencesList: doc.data().experiencesList }, () => {\n            for (let i = 0; i < this.state.experiencesList.length; i++) {\n              firebase\n                .firestore()\n                .collection(\"user-data\")\n                .doc(this.state.uid)\n                .collection(\"experiences\")\n                .doc(this.state.experiencesList[i])\n                .get()\n                .then((doc) => {\n                  if (doc.exists) {\n                    this.setState((prevState) => ({\n                      experiences: [\n                        ...prevState.experiences,\n                        <CollapsedExperience\n                          company={doc.data().company}\n                          title={doc.data().title}\n                          dates={\n                            doc.data().start_date + \" - \" + doc.data().end_date\n                          }\n                          description={doc.data().description}\n                          key={this.state.experiencesList[i]}\n                          delete={this.deleteExperience}\n                          edit={this.editExperience}\n                        />,\n                      ],\n                    }));\n                  }\n                })\n                .catch((error) => {\n                  this.setState({\n                    errorMessage:\n                      \"Oops! It looks like something went wrong. Please try again.\",\n                  });\n                });\n            }\n          });\n        }\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  componentDidMount() {\n    document.body.style.zoom = \"80%\";\n    this.getUserID();\n    this.id = setTimeout(() => this.setState({ loading: false }), 1000);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.id);\n  }\n\n  changeFirstName = (newName) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ firstName: newName });\n  };\n\n  changeLastName = (newName) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ lastName: newName });\n  };\n\n  changeMajor = (newMajor) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ major: newMajor });\n  };\n\n  changeUniversity = (newUniversity) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ university: newUniversity });\n  };\n\n  changeTitle = (newTitle) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ title: newTitle });\n  };\n\n  changeCompany = (newCompany) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ company: newCompany });\n  };\n\n  changeStartDate = (newStartDate) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ startDate: newStartDate });\n  };\n\n  changeEndDate = (newEndDate) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ endDate: newEndDate });\n  };\n\n  changeDescription = (newDescription) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ description: newDescription });\n  };\n\n  changeErrorMessage = (newErrorMessage) => {\n    this.setState({ errorMessage: newErrorMessage });\n  };\n\n  changeCumulativeGPA = (newGPA) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ cumulativeGPA: newGPA });\n  };\n\n  changeMajorGPA = (newGPA) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ majorGPA: newGPA });\n  };\n\n  changeCoursework = (newCoursework) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ coursework: newCoursework });\n  };\n\n  changeSkills = (newSkills) => {\n    this.setState({ changedBoolean: true });\n    this.setState({ skills: newSkills });\n  };\n\n  addExperienceButton = () => {\n    this.setState({ modalVisible: true });\n  };\n\n  writeToDatabase = (id) => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .collection(\"experiences\")\n      .doc(id)\n      .set({\n        title: this.state.title,\n        company: this.state.company,\n        start_date: this.state.startDate,\n        end_date: this.state.endDate,\n        description: this.state.description,\n      })\n      .then(() => {\n        this.setState({ company: \"\" });\n        this.setState({ title: \"\" });\n        this.setState({ startDate: \"\" });\n        this.setState({ endDate: \"\" });\n        this.setState({ description: \"\" });\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  doneExperienceButton = () => {\n    this.setState({ changedBoolean: true });\n    if (\n      this.state.company !== \"\" &&\n      this.state.title !== \"\" &&\n      this.state.startDate !== \"\" &&\n      this.state.endDate !== \"\" &&\n      this.state.description !== \"\"\n    ) {\n      if (this.state.tempConcat !== \"\") {\n        this.deleteHelperYes(this.state.tempConcat);\n      } else {\n        let crypto = require(\"crypto-js\");\n        let concat =\n          this.state.company +\n          this.state.title +\n          this.state.startDate +\n          \" - \" +\n          this.state.endDate +\n          this.state.description;\n        let ID = crypto.SHA256(concat).toString();\n        this.setState({ modalVisible: false });\n        this.setState((prevState) => ({\n          experiences: [\n            ...prevState.experiences,\n            <CollapsedExperience\n              company={this.state.company}\n              title={this.state.title}\n              dates={this.state.startDate + \" - \" + this.state.endDate}\n              description={this.state.description}\n              key={ID}\n              delete={this.deleteExperience}\n              edit={this.editExperience}\n            />,\n          ],\n        }));\n        this.setState((prevState) => ({\n          experiencesList: [...prevState.experiencesList, ID],\n        }));\n        this.writeToDatabase(ID);\n      }\n    } else {\n      this.setState({\n        errorMessage: \"Oops! Please make sure all fields are filled.\",\n      });\n    }\n  };\n\n  saveChangesButton = () => {\n    firebase\n      .firestore()\n      .collection(\"user-data\")\n      .doc(this.state.uid)\n      .update({\n        first_name: this.state.firstName,\n        last_name: this.state.lastName,\n        major: this.state.major,\n        university: this.state.university,\n        cumulative_gpa: this.state.cumulativeGPA,\n        major_gpa: this.state.majorGPA,\n        coursework: this.state.coursework,\n        skills: this.state.skills,\n        initial_profile_setup_complete: true,\n        changed_resume: true,\n      })\n      .then(() => {\n        firebase\n          .firestore()\n          .collection(\"user-data\")\n          .doc(this.state.uid)\n          .collection(\"experiences\")\n          .doc(\"Experiences List\")\n          .set({\n            experiencesList: this.state.experiencesList,\n          })\n          .then(() => {\n            if (this.state.errorMessage === \"\") {\n              window.location.href = \"/home\";\n            }\n          })\n          .catch((error) => {\n            this.setState({\n              errorMessage:\n                \"Oops! It looks like something went wrong. Please try again.\",\n            });\n          });\n      })\n      .catch((error) => {\n        this.setState({\n          errorMessage:\n            \"Oops! It looks like something went wrong. Please try again.\",\n        });\n      });\n  };\n\n  okErrorButton = () => {\n    window.location.href = \"/home\";\n    this.setState({ errorVisible: false });\n    this.setState({ errorOkay: false });\n    this.setState({ changedBoolean: false });\n  };\n\n  cancelErrorButton = () => {\n    this.setState({ errorCancel: false });\n    this.setState({ errorVisible: false });\n  };\n\n  goBackButton = () => {\n    if (!this.state.changedBoolean) {\n      window.location.href = \"/home\";\n    } else {\n      this.setState({ errorVisible: true });\n    }\n  };\n\n  triggerMainDivVisibility = () => {\n    if (this.state.modalVisible) {\n      if (this.state.changedBoolean) {\n        if (\n          window.confirm(\n            \"Oops! It looks like you have made changes that are unsaved. Are you sure you wish to leave?\"\n          )\n        ) {\n          this.setState({ modalVisible: false });\n          this.setState({ title: \"\" });\n          this.setState({ company: \"\" });\n          this.setState({ startDate: \"\" });\n          this.setState({ endDate: \"\" });\n          this.setState({ description: \"\" });\n        }\n      } else {\n        this.setState({ modalVisible: false });\n        this.setState({ title: \"\" });\n        this.setState({ company: \"\" });\n        this.setState({ startDate: \"\" });\n        this.setState({ endDate: \"\" });\n        this.setState({ description: \"\" });\n      }\n    }\n  };\n\n  render() {\n    const blurDiv = {\n      filter: \"blur(3px)\",\n      backgroundColor: \"#ebebeb\",\n      minWidth: \"127vw\",\n      overflowY: \"hidden\",\n      overflowX: \"hidden\",\n    };\n    const normalDiv = {\n      backgroundColor: \"white\",\n    };\n    const addExperienceModal = {\n      position: \"absolute\",\n      top: \"4%\",\n      left: \"30%\",\n      zIndex: \"10\",\n    };\n    const errorMessageModal = {\n      position: \"absolute\",\n      top: \"40%\",\n      left: \"25%\",\n      zIndex: \"10\",\n    };\n\n    return this.state.access ? (\n      this.state.loading ? (\n        <WaveLoading />\n      ) : (\n        <div>\n          <div\n            className=\"main-div\"\n            style={\n              this.state.modalVisible ||\n              this.state.errorVisible ||\n              this.state.deleteVisible\n                ? blurDiv\n                : normalDiv\n            }\n            onClick={this.triggerMainDivVisibility}\n          >\n            <div className=\"collapsed-wrapper\">\n              <div className=\"custom-header\">Your Profile</div>\n              <div className=\"back-button-p\">\n                <CustomButton value={\"Go Back\"} onClick={this.goBackButton} />\n              </div>\n              <div className=\"save-changes\">\n                <CustomButton\n                  value={\"Save Changes\"}\n                  onClick={this.saveChangesButton}\n                />\n              </div>\n              <div className=\"box-wrapper\">\n                <TextBox\n                  label={\"First Name\"}\n                  value={this.state.firstName}\n                  change={this.changeFirstName}\n                />\n\n                <TextBox\n                  label={\"Last Name\"}\n                  value={this.state.lastName}\n                  change={this.changeLastName}\n                />\n              </div>\n              <div className=\"box-wrapper\">\n                <TextBox\n                  label={\"Major\"}\n                  value={this.state.major}\n                  change={this.changeMajor}\n                />\n                <TextBox\n                  label={\"University\"}\n                  value={this.state.university}\n                  change={this.changeUniversity}\n                />\n              </div>\n              <div className=\"box-wrapper\">\n                <TextBox\n                  label={\"Cumulative GPA\"}\n                  value={this.state.cumulativeGPA}\n                  change={this.changeCumulativeGPA}\n                />\n                <TextBox\n                  label={\"Major GPA\"}\n                  value={this.state.majorGPA}\n                  change={this.changeMajorGPA}\n                />\n              </div>\n              <MediumTextBox\n                label={\"Relevant Coursework\"}\n                value={this.state.coursework}\n                change={this.changeCoursework}\n              />\n              <MediumTextBox\n                label={\"Relevant Skills\"}\n                value={this.state.skills}\n                change={this.changeSkills}\n              />\n              <div className=\"subheading-cp\">Relevant Experiences</div>\n              {this.state.experiences}\n              <div className=\"button-wrapper-cp\">\n                <CustomButton\n                  value={\"Add Experience\"}\n                  onClick={this.addExperienceButton}\n                />\n              </div>\n            </div>\n          </div>\n          <div style={addExperienceModal}>\n            <AddExperience\n              hidden={this.state.modalVisible}\n              done={this.doneExperienceButton}\n              title={this.state.title}\n              changeTitle={this.changeTitle}\n              company={this.state.company}\n              changeCompany={this.changeCompany}\n              startDate={this.state.startDate}\n              changeStartDate={this.changeStartDate}\n              endDate={this.state.endDate}\n              changeEndDate={this.changeEndDate}\n              description={this.state.description}\n              changeDescription={this.changeDescription}\n              errorMessage={this.state.errorMessage}\n              changeErrorMessage={this.changeErrorMessage}\n            />\n          </div>\n          <div style={errorMessageModal}>\n            <ErrorMessage\n              hidden={this.state.errorVisible}\n              ok={this.okErrorButton}\n              cancel={this.cancelErrorButton}\n              message={\n                \"Oops! It looks like you have made changes that are unsaved. Are you sure you wish to leave?\"\n              }\n            />\n          </div>\n          <div style={errorMessageModal}>\n            <ErrorMessage\n              hidden={this.state.deleteVisible}\n              ok={() => this.deleteHelperYes(this.state.currDeleteID)}\n              cancel={() => this.deleteHelperNo()}\n              message={\"Are you sure you wish to delete this experience?\"}\n            />\n          </div>\n        </div>\n      )\n    ) : (\n      <div className={\"denied-wrapper\"}>\n        <img src={image} alt={\"access denied\"} style={{ height: \"330px\" }} />\n        <br /> <br /> <br /> <br />\n        <BigCustomButton\n          value={\"Click Here To Log In\"}\n          onClick={() => {\n            window.location.href = \"/landing\";\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ViewProfileScreen;\n"]},"metadata":{},"sourceType":"module"}